---
title: Type Tags Reference
description: Complete API reference for @tsgonest/types — zero-runtime branded phantom types for type-safe validation constraints.
---

`@tsgonest/types` provides branded phantom types that let you express validation constraints directly in your TypeScript types. These types are **zero-runtime** — they produce no JavaScript output. tsgonest reads the phantom properties during compilation to generate validators, serializers, and OpenAPI schemas.

## Installation

```package-install
@tsgonest/types
```

Already included when you install `tsgonest`.

## Usage

```ts
import { Email, Min, Max, Trim, Coerce } from '@tsgonest/types';

interface CreateUserDto {
  name: string & Trim & Min<1> & Max<255>;
  email: string & Email;
  age: number & Min<0> & Max<150>;
}
```

Every constraint supports **two forms**:

```ts
// Simple form — clean, no custom error
name: string & Min<1>;

// Extended form — with per-constraint error message
name: string & Min<{ value: 1, error: "Name cannot be empty" }>;
```

---

## String formats

### Format\<F\>

The base type for string format validation. All format aliases below are shorthands for `Format<"name">`.

```ts
import { Format } from '@tsgonest/types';

email: string & Format<"email">;
email: string & Format<{ type: "email", error: "Must be a valid email" }>;
```

### Format aliases

These are direct exports — no namespace needed:

| Type | Equivalent | Validates |
| --- | --- | --- |
| `Email` | `Format<"email">` | Email address |
| `Uuid` | `Format<"uuid">` | UUID (v1-v5) |
| `Url` | `Format<"url">` | URL |
| `Uri` | `Format<"uri">` | URI |
| `IPv4` | `Format<"ipv4">` | IPv4 address |
| `IPv6` | `Format<"ipv6">` | IPv6 address |
| `DateTime` | `Format<"date-time">` | ISO 8601 date-time |
| `DateOnly` | `Format<"date">` | ISO 8601 date |
| `Time` | `Format<"time">` | ISO 8601 time |
| `Duration` | `Format<"duration">` | ISO 8601 duration |
| `Jwt` | `Format<"jwt">` | JSON Web Token |
| `Ulid` | `Format<"ulid">` | ULID |
| `Cuid` | `Format<"cuid">` | CUID |
| `Cuid2` | `Format<"cuid2">` | CUID2 |
| `NanoId` | `Format<"nanoid">` | NanoID |

```ts
import { Email, Uuid, Jwt, DateTime } from '@tsgonest/types';

interface TokenPayload {
  userId: string & Uuid;
  email: string & Email;
  token: string & Jwt;
  issuedAt: string & DateTime;
}
```

### All supported format values

`email`, `idn-email`, `url`, `uri`, `uri-reference`, `uri-template`, `iri`, `iri-reference`, `uuid`, `ipv4`, `ipv6`, `hostname`, `idn-hostname`, `date-time`, `date`, `time`, `duration`, `json-pointer`, `relative-json-pointer`, `byte`, `password`, `regex`, `nanoid`, `cuid`, `cuid2`, `ulid`, `jwt`, `base64url`, `hex`, `mac`, `cidrv4`, `cidrv6`, `emoji`

---

## String constraints

### MinLength\<N\>

Minimum string length.

```ts
import { MinLength } from '@tsgonest/types';

name: string & MinLength<1>;
name: string & MinLength<{ value: 1, error: "Cannot be empty" }>;
```

### MaxLength\<N\>

Maximum string length.

```ts
import { MaxLength } from '@tsgonest/types';

bio: string & MaxLength<500>;
bio: string & MaxLength<{ value: 500, error: "Bio too long" }>;
```

### Pattern\<P\>

Regex pattern constraint.

```ts
import { Pattern } from '@tsgonest/types';

slug: string & Pattern<"^[a-z0-9-]+$">;
slug: string & Pattern<{ value: "^[a-z0-9-]+$", error: "Invalid slug format" }>;
```

### StartsWith\<S\>

String must start with the given prefix.

```ts
import { StartsWith } from '@tsgonest/types';

url: string & StartsWith<"https://">;
url: string & StartsWith<{ value: "https://", error: "Must be HTTPS" }>;
```

### EndsWith\<S\>

String must end with the given suffix.

```ts
import { EndsWith } from '@tsgonest/types';

filename: string & EndsWith<".json">;
filename: string & EndsWith<{ value: ".json", error: "Must be a JSON file" }>;
```

### Includes\<S\>

String must contain the given substring.

```ts
import { Includes } from '@tsgonest/types';

email: string & Includes<"@">;
email: string & Includes<{ value: "@", error: "Must contain @" }>;
```

---

## Numeric constraints

### Minimum\<N\> / Min\<N\>

Minimum value (inclusive): `value >= N`.

```ts
import { Min } from '@tsgonest/types';

age: number & Min<0>;
age: number & Min<{ value: 0, error: "Age cannot be negative" }>;
```

### Maximum\<N\> / Max\<N\>

Maximum value (inclusive): `value <= N`.

```ts
import { Max } from '@tsgonest/types';

quantity: number & Max<1000>;
quantity: number & Max<{ value: 1000, error: "Max 1000 items" }>;
```

### ExclusiveMinimum\<N\> / Gt\<N\>

Exclusive minimum: `value > N`.

```ts
import { Gt } from '@tsgonest/types';

price: number & Gt<0>; // price must be greater than 0
```

### ExclusiveMaximum\<N\> / Lt\<N\>

Exclusive maximum: `value < N`.

```ts
import { Lt } from '@tsgonest/types';

discount: number & Lt<100>; // discount must be less than 100
```

### MultipleOf\<N\> / Step\<N\>

Value must be a multiple of N.

```ts
import { Step } from '@tsgonest/types';

price: number & Step<0.01>;  // cents precision
quantity: number & Step<1>;  // whole numbers only
```

---

## Numeric type constraints

### Type\<T\>

Constrain a number to a specific numeric type.

```ts
import { Type } from '@tsgonest/types';

port: number & Type<"uint32">;
offset: number & Type<"int64">;
ratio: number & Type<"double">;
```

Supported type values: `"int32"`, `"uint32"`, `"int64"`, `"uint64"`, `"float"`, `"double"`

### Numeric aliases

Shorthand types for common numeric constraints:

| Type | Equivalent | Description |
| --- | --- | --- |
| `Positive` | `Gt<0>` | Greater than 0 |
| `Negative` | `Lt<0>` | Less than 0 |
| `NonNegative` | `Min<0>` | Greater than or equal to 0 |
| `NonPositive` | `Max<0>` | Less than or equal to 0 |
| `Int` | `Type<"int32">` | 32-bit integer |
| `SafeInt` | `Type<"int64">` | Safe integer (JS range) |
| `Finite` | `Type<"float">` | Finite number (no Infinity/NaN) |
| `Uint` | `Type<"uint32">` | Unsigned 32-bit integer |
| `Double` | `Type<"double">` | Double precision float |

```ts
import { Int, Positive, NonNegative } from '@tsgonest/types';

interface OrderDto {
  quantity: number & Int & Positive;    // positive integer
  total: number & NonNegative;          // >= 0
  discount: number & NonNegative;       // >= 0
}
```

---

## Array constraints

### MinItems\<N\>

Minimum array length.

```ts
import { MinItems } from '@tsgonest/types';

tags: string[] & MinItems<1>; // at least one tag
```

### MaxItems\<N\>

Maximum array length.

```ts
import { MaxItems } from '@tsgonest/types';

attachments: File[] & MaxItems<10>; // at most 10 files
```

### UniqueItems / Unique

Array items must be unique.

```ts
import { Unique } from '@tsgonest/types';

tags: string[] & Unique;
ids: number[] & Unique<{ error: "IDs must be unique" }>;
```

### Combined array constraints

```ts
import { MinItems, MaxItems, Unique, Email } from '@tsgonest/types';

interface BulkInviteDto {
  emails: (string & Email)[] & MinItems<1> & MaxItems<100> & Unique;
}
```

---

## String case validation

### Uppercase

String must be all uppercase.

```ts
import { Uppercase } from '@tsgonest/types';

countryCode: string & Uppercase; // "US", "GB", etc.
countryCode: string & Uppercase<{ error: "Must be uppercase" }>;
```

### Lowercase

String must be all lowercase.

```ts
import { Lowercase } from '@tsgonest/types';

slug: string & Lowercase; // "my-post", etc.
```

---

## Transforms

Transforms modify the input value **before** validation. They never fail.

### Trim

Remove leading and trailing whitespace.

```ts
import { Trim, Min } from '@tsgonest/types';

// "  hello  " -> "hello", then validate length >= 1
name: string & Trim & Min<1>;
```

### ToLowerCase

Convert to lowercase.

```ts
import { ToLowerCase, Email } from '@tsgonest/types';

// "USER@EXAMPLE.COM" -> "user@example.com", then validate email
email: string & ToLowerCase & Email;
```

### ToUpperCase

Convert to uppercase.

```ts
import { ToUpperCase, Length } from '@tsgonest/types';

// "us" -> "US", then validate length == 2
countryCode: string & ToUpperCase & Length<2>;
```

---

## Coercion

### Coerce

Coerce string inputs to the declared type before validation. Essential for query and path parameters.

```ts
import { Coerce, Min, Max } from '@tsgonest/types';

interface PaginationQuery {
  page: number & Coerce & Min<1>;     // "5" -> 5
  limit: number & Coerce & Max<100>;  // "20" -> 20
  active: boolean & Coerce;           // "true" -> true
}
```

---

## Custom validators

### Validate\<F\>

Reference a predicate function for custom validation. The function must have the signature `(value: T) => boolean`.

```ts
import { Validate } from '@tsgonest/types';
import { isValidCard } from './validators';

card: string & Validate<typeof isValidCard>;
card: string & Validate<{ fn: typeof isValidCard, error: "Invalid card number" }>;
```

tsgonest resolves the function's source file at build time and emits an `import` in the generated companion.

---

## Meta types

### Error\<M\>

Global error message for a property. Applies to all validation failures unless overridden by a per-constraint error.

```ts
import { Email, Min, Error } from '@tsgonest/types';

interface ContactDto {
  email: string & Email & Error<"Please enter a valid email address">;
  name: string & Min<1> & Error<"Name is required">;
}
```

### Default\<V\>

Default value for optional properties. Assigned when the value is `undefined`.

```ts
import { Default } from '@tsgonest/types';

interface SettingsDto {
  theme?: string & Default<"light">;
  pageSize?: number & Default<20>;
  darkMode?: boolean & Default<false>;
}
```

---

## Compound constraints

### Length\<N\>

Exact string length. Sets both `MinLength` and `MaxLength` to the same value.

```ts
import { Length } from '@tsgonest/types';

countryCode: string & Length<2>;        // exactly 2 characters
pin: string & Length<{ value: 4, error: "PIN must be exactly 4 digits" }>;
```

### Range\<R\>

Numeric range (inclusive). Sets `Minimum` and `Maximum`.

```ts
import { Range } from '@tsgonest/types';

percentage: number & Range<{ min: 0, max: 100 }>;
temperature: number & Range<{ min: -40, max: 60, error: "Out of range" }>;
```

### Between\<R\>

String length range. Sets `MinLength` and `MaxLength`.

```ts
import { Between } from '@tsgonest/types';

username: string & Between<{ min: 3, max: 20 }>;
password: string & Between<{ min: 8, max: 128, error: "Password must be 8-128 characters" }>;
```

---

## Short aliases

Zod-style shorthand aliases for common constraints:

| Alias | Full type | Description |
| --- | --- | --- |
| `Min<N>` | `Minimum<N>` | Minimum value (inclusive) |
| `Max<N>` | `Maximum<N>` | Maximum value (inclusive) |
| `Gt<N>` | `ExclusiveMinimum<N>` | Greater than |
| `Lt<N>` | `ExclusiveMaximum<N>` | Less than |
| `Gte<N>` | `Minimum<N>` | Greater than or equal |
| `Lte<N>` | `Maximum<N>` | Less than or equal |
| `Step<N>` | `MultipleOf<N>` | Multiple of |
| `Unique` | `UniqueItems` | Unique array items |

:::tip
`Min` and `Max` work on **both** strings and numbers. When applied to a `string`, they constrain string length (`minLength`/`maxLength`). When applied to a `number`, they constrain the value (`minimum`/`maximum`).
:::

---

## Complete example

```ts
import {
  Email, Uuid, Jwt, DateTime,
  Min, Max, Gt,
  Trim, ToLowerCase, Coerce,
  Pattern, Length, Range, Between,
  MinItems, MaxItems, Unique,
  Int, Positive,
  Validate, Default, Error,
} from '@tsgonest/types';
import { isValidCard } from './validators/credit-card';

// User registration
interface CreateUserDto {
  name: string & Trim & Between<{ min: 1, max: 255 }>;
  email: string & ToLowerCase & Email;
  password: string & Between<{ min: 8, max: 128 }>;
  age: number & Range<{ min: 13, max: 150 }>;
  role?: string & Default<"user">;
}

// Payment processing
interface PaymentDto {
  amount: number & Positive & Step<0.01>;
  currency: string & Length<3> & Uppercase;
  cardNumber: string & Validate<typeof isValidCard>;
}

// Search with pagination
interface SearchQuery {
  q: string & Trim & Min<1>;
  page: number & Coerce & Int & Min<1>;
  limit: number & Coerce & Int & Range<{ min: 1, max: 100 }>;
  tags?: string[] & Unique & MaxItems<10>;
}

// Session data
interface SessionDto {
  userId: string & Uuid;
  token: string & Jwt;
  createdAt: string & DateTime;
  ipAddress: string & Format<"ipv4">;
}
```

---

## Namespace import

If you prefer, you can import all types under a `tags` namespace:

```ts
import { tags } from '@tsgonest/types';

interface CreateUserDto {
  name: string & tags.Trim & tags.Min<1> & tags.Max<255>;
  email: string & tags.Email;
  age: number & tags.Min<0> & tags.Max<150>;
}
```

Both import styles work identically.

---

## Typia migration

tsgonest also recognizes typia's `"typia.tag"` branded type convention. If you're migrating from typia, your existing branded types will be detected automatically:

```ts
// This typia-style branded type is recognized by tsgonest
type Email = string & { "typia.tag": { target: "string"; kind: "format"; value: "email" } };
```

For new projects, use `@tsgonest/types` directly — it provides better DX with IDE autocomplete and shorter syntax.
